@if (isOpen()) {
  <div class="popup-overlay" (click)="close()">
    <div class="popup-content" (click)="$event.stopPropagation()">
      <div class="popup-header">
        <h2>تعديل موقف المباني المؤجرة</h2>
        <button type="button" class="close-btn" (click)="close()">×</button>
      </div>

      <form (ngSubmit)="submitModification()" class="modify-form">
        <div class="form-section">
          <h3>تحديث بيانات الإيجار</h3>

          <div class="form-group">
            <label>حالة الإيجار (Rental Status):</label>
            <select [(ngModel)]="status" name="status" class="form-input">
              <option value="مؤجرة">مؤجرة (Rented)</option>
              <option value="شاغرة">شاغرة (Vacant)</option>
              <option value="تحت الصيانة">تحت الصيانة (Under Maintenance)</option>
            </select>
          </div>

          <div class="form-group">
            <label>المستأجر (Tenant):</label>
            <input [(ngModel)]="tenant" name="tenant" type="text" class="form-input" />
          </div>

          <div class="form-group">
            <label>تاريخ بداية الإيجار (Start Date):</label>
            <input [(ngModel)]="rentalStartDate" name="startDate" type="date" class="form-input" />
          </div>

          <div class="form-group">
            <label>تاريخ نهاية الإيجار (End Date):</label>
            <input [(ngModel)]="rentalEndDate" name="endDate" type="date" class="form-input" />
          </div>

          <div class="form-group">
            <label>الإيجار السنوي (Annual Rent):</label>
            <input [(ngModel)]="annualRent" name="annualRent" type="number" class="form-input" />
          </div>

          <div class="form-group">
            <label>ملاحظات (Notes):</label>
            <textarea [(ngModel)]="notes" name="notes" class="form-input" rows="4"></textarea>
          </div>
        </div>

        <div class="form-actions">
          <button type="submit" class="btn btn-primary">✓ حفظ التعديلات</button>
          <button type="button" (click)="close()" class="btn btn-secondary">إلغاء</button>
        </div>
      </form>
    </div>
  </div>
}
