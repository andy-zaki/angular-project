<app-header 
  [pageTitle]="'ุงุณุชุนูุงู ุนู ูููุน ูุจูู ูุคุฌุฑ'"
  [showBackButton]="true"
  [showHomeButton]="true"
  (backClicked)="goBack()"
  (homeClicked)="goHome()"
  (logoutClicked)="logout()"
></app-header>

<div class="container">
  <div class="search-section">
    <div class="search-card">
      <h2>ุงูุจุญุซ ุนู ุงููุจูู</h2>
      <div class="search-group">
        <label for="id">ุงูุฑูู ุงูุชุนุฑููู:</label>
        <div class="search-input-group">
          <input 
            id="id"
            type="text" 
            [(ngModel)]="identificationNumber"
            placeholder="ุฃุฏุฎู ุงูุฑูู ุงูุชุนุฑููู"
            class="search-input"
          />
          <button class="btn-search" (click)="search()">๐ ุจุญุซ</button>
        </div>
      </div>
    </div>
  </div>

  @if (buildingInfo()) {
    <div class="building-info-section">
      <div class="info-card">
        <div class="info-header">
          <h3>ุจูุงูุงุช ุงููุจูู</h3>
        </div>
        <div class="info-grid">
          <div class="info-row">
            <span class="info-label">ุงุณู ุงููุฏุฑุณุฉ:</span>
            <span class="info-value">{{ buildingInfo()?.name }}</span>
          </div>
          <div class="info-row">
            <span class="info-label">ุงููููู ุงููุณุฌู:</span>
            <span class="info-value">{{ buildingInfo()?.status }}</span>
          </div>
          <div class="info-row">
            <span class="info-label">ุงููููู ุงููุฑุนู:</span>
            <span class="info-value">{{ buildingInfo()?.substatus }}</span>
          </div>
        </div>

        <div class="button-group">
          <button class="btn-option" (click)="viewDetails()">
            โน๏ธ ุงุณุชุนูุงู ุนู ุงููุจูู
          </button>
          <button class="btn-option btn-edit" (click)="navigateToEdit()">
            โ ุชุนุฏูู ูููู ุงููุจุงูู ุงููุคุฌุฑุฉ
          </button>
        </div>
      </div>

      @if (showDetails()) {
        <div class="details-card">
          <h3>ุชูุงุตูู ุงููุจูู</h3>
          <div class="details-grid">
            <div class="detail-row">
              <span class="detail-label">ููุฏ ุงููุจูู:</span>
              <span class="detail-value">12345678</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">ุงุณู ุงููุฏุฑุณุฉ:</span>
              <span class="detail-value">ูุฏุฑุณุฉ ุงูุฑุงุฒู ุงูุงุจุชุฏุงุฆูุฉ</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">ุงููุญุงูุธุฉ:</span>
              <span class="detail-value">ูุญุงูุธุฉ ุงููุงูุฑุฉ</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">ูุฑูุฒ:</span>
              <span class="detail-value">ูุฑูุฒ ุงููุงูุฑุฉ</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">ุงูุงุฏุงุฑุฉ ุงูุชุนููููุฉ:</span>
              <span class="detail-value">ุฅุฏุงุฑุฉ ุงููููู ุงูุชุนููููุฉ</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">ููุนูุฉ ุงูุชุนููู:</span>
              <span class="detail-value">ุชุนููู ุนุงู</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">ุงูุชุจุนูุฉ:</span>
              <span class="detail-value">ูุฒุงุฑุฉ ุงูุชุฑุจูุฉ ูุงูุชุนููู</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">ูููู ุงูุงุณุชุฎุฏุงู:</span>
              <span class="detail-value">ูุณุชุฎุฏู</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">ุงููุฑุญูุฉ ุงูุชุนููููุฉ:</span>
              <span class="detail-value">ุงุจุชุฏุงุฆู</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">ูุชุฑุงุช ุงูุงุณุชุฎุฏุงู:</span>
              <span class="detail-value">ูุชุฑุชุงู (ุตุจุงุญูุฉ ููุณุงุฆูุฉ)</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">ุงูููุน (ุงูุฌูุณ):</span>
              <span class="detail-value">ูุดุชุฑู</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">ุงุณู ูุฏุฑุณุฉ ุงููุชุฑุฉ ุงูุซุงููุฉ:</span>
              <span class="detail-value">ูุฏุฑุณุฉ ุงูููุฑ ุงููุณุงุฆูุฉ</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">ุงุณู ูุฏุฑุณุฉ ุงููุชุฑุฉ ุงูุซุงูุซุฉ:</span>
              <span class="detail-value">-</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">ุงุฌูุงูู ุชูุงููุฐ ุงููุฏุฑุณุฉ:</span>
              <span class="detail-value">450 ุชูููุฐ</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">ุจููู:</span>
              <span class="detail-value">225 ุชูููุฐ</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">ุจูุงุช:</span>
              <span class="detail-value">225 ุชูููุฐุฉ</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">ููููุฉ ุงูุงุฑุถ:</span>
              <span class="detail-value">ุญููููุฉ</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">ููููุฉ ุงููุจูู:</span>
              <span class="detail-value">ุญููููุฉ</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">ุงุฌูุงูู ูุณุงุญุฉ ุงููููุน:</span>
              <span class="detail-value">2500 ูยฒ</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">ูุณุทุญ ุงููุจูู:</span>
              <span class="detail-value">1800 ูยฒ</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">ุนุฏุฏ ุงูููุงุญู:</span>
              <span class="detail-value">3 ููุงุญู</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">ุงูุณูุฑ:</span>
              <span class="detail-value">ูุชููุฑ</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">ูุธุงู ุงูุงูุดุงุก:</span>
              <span class="detail-value">ุฎุฑุณุงูุฉ ูุณูุญุฉ</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">ุทุฑููุฉ ุงูุงูุดุงุก:</span>
              <span class="detail-value">ุฅุทุงุฑุงุช</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">ูุตุฏุฑ ุงูุชูุงุฑ:</span>
              <span class="detail-value">ููุฑุจุงุก ุญููููุฉ</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">ุงูุตุฑู ุงูุตุญู:</span>
              <span class="detail-value">ุดุจูุฉ ุนุงูุฉ</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">ุงูุชุบุฐูุฉ:</span>
              <span class="detail-value">ููุงู ุงูุดุฑุจ ูุชููุฑุฉ</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">ุนุฏุฏ ุงููุตูู:</span>
              <span class="detail-value">18 ูุตู</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">ุนุฏุฏ ุงููุฑุงุบุงุช ุงูุชุนููููุฉ:</span>
              <span class="detail-value">20 ูุฑุงุบ</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">ุญุงูุฉ ุงูุงุณุชุถุงูุฉ:</span>
              <span class="detail-value">ุบูุฑ ูุณุชุถูู</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">ุนุฏุฏ ุงููุฑุงุบุงุช ุงูุชูููููุฉ:</span>
              <span class="detail-value">8 ูุฑุงุบุงุช</span>
            </div>
          </div>
        </div>
      }
    </div>
  }
</div>

<app-rental-status-edit
  [buildingId]="buildingInfo()?.id || ''"
  [isOpen]="showEditPopup()"
  (closePopup)="closeEditPopup()"
  (submitSuccess)="handleEditSubmit($event)"
></app-rental-status-edit>
