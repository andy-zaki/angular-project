<app-header 
  [pageTitle]="'بيان بموقف المباني المؤجرة'"
  [showBackButton]="true"
  [showHomeButton]="true"
  (backClicked)="goBack()"
  (homeClicked)="goHome()"
  (logoutClicked)="logout()"
></app-header>

<div class="container">
  <div class="stats-header">
    <h2 class="total-count">إجمالي المباني: {{ totalCount }}</h2>
  </div>

  <div class="stats-grid">
    @for (stat of statistics; track stat.label) {
      <div class="stat-card" [style.border-color]="stat.color">
        <div class="stat-header">
          <h3 class="stat-label">{{ stat.label }}</h3>
          <span class="stat-percentage" [style.background-color]="stat.color">{{ stat.percentage }}%</span>
        </div>
        
        <!-- Three numbers display -->
        <div class="stat-numbers-grid">
          <div class="stat-number-item stat-closed">
            <div class="number-label">مغلق</div>
            <div class="number-value">{{ stat.closed }}</div>
          </div>
          <div class="stat-number-item stat-working">
            <div class="number-label">تعمل</div>
            <div class="number-value">{{ stat.working }}</div>
          </div>
          <div class="stat-number-item stat-total">
            <div class="number-label">الإجمالي</div>
            <div class="number-value">{{ stat.value }}</div>
          </div>
        </div>

        <div class="stat-bar">
          <div 
            class="stat-bar-fill" 
            [style.width.%]="stat.percentage"
            [style.background-color]="stat.color"
          ></div>
        </div>
      </div>
    }
  </div>

  <div class="summary-section">
    <h3 class="summary-title">ملخص الحالة</h3>
    <div class="summary-content">
      <p>
        يوجد إجمالي <strong>{{ totalCount }}</strong> مبنى مؤجر موزع على مراحل مختلفة من دراسة الاحتياج إلى توقيع الهيئة.
      </p>
      <p>
        النسبة الأعلى من المباني في مرحلة <strong>استكمال البيانات</strong> بنسبة 21%، مما يتطلب متابعة دورية لاستكمال المستندات المطلوبة.
      </p>
    </div>
  </div>
</div>
